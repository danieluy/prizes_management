"use strict"

////////////////////////////////////////////////////////////////////////////////
//  Dependencies  //////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
const bodyParser = require("body-parser");
const express = require('express');
const app = express();
const server = require('http').createServer(app);
const io = require('socket.io').listen(server);
const fs = require('fs');
////////////////////////////////////////////////////////////////////////////////
//  Configuration  /////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
const db_users = require('./my_modules/db_users.js');
db_users.init();// maybe move to a init stuff section
const User = db_users.User;
const config = require('./config.json');
// Server parameters
const srv_par = {
	ip: config.network.ip,
	port: config.network.port,
	url: function(){
		return 'http://' + this.ip + ':' + this.port
	}
}
// Database parameters
const db_par = {
	ip: config.database.ip,
	port: config.database.port,
	name: config.database.name,
	pass: config.database.password
}
////////////////////////////////////////////////////////////////////////////////
//  Server  ////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
server.listen(srv_par.port, () => {
	console.log('Listening on: ' + srv_par.url());
	console.log('Press Ctrl-C to terminate');
});
